!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=107)}({107:function(t,e,n){"use strict";var o=function(){function t(t,e){var n=[],o=!0,a=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(o=(r=l.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=document.body,i=document.createElement("div");i.id="vldt-unmoderated-testing",i.classList.add("vldt-installed"),i.style.display="none",a.prepend(i);var r=chrome.extension.connect(),l=function(t){return new RegExp("^https?://").test(t)?t:"http://"+t},s=function(){return new Promise(function(t){var e=void 0,n=new RegExp("^((staging|test\\d+\\.test)\\.)?(validately\\.com|uxrtesting\\.com)$");window.location.href.includes("unmoderated")&&!window.location.href.includes("/finish")?window.location.host.match(n)&&localStorage.getItem("vldtParams")&&(chrome.storage.local.clear(),e=JSON.parse(localStorage.getItem("vldtParams")),chrome.storage.local.set({vldtParams:e,isRunning:!1},function(){return localStorage.removeItem("vldtParams")}),t(e)):chrome.storage.local.get("vldtParams",function(n){e=n.vldtParams,t(e)})})},d=function(){s().then(function(t){chrome.storage.local.set({isRunning:!0},function(){r.postMessage({action:"micCheck"});var e=void 0;e=t.tasks[0].start_url?t.tasks[0].start_url:t.site,t.browser_bar?window.location=l(e):window.location=t.origin+"/microphone"})})},c=function(){chrome.storage.local.clear(function(){r.postMessage({action:"forceQuit",reason:"Entered shareable url again"})})},u=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=document.querySelector(e),i=o;null===a||i||(i=!0,a.addEventListener("click",function(t){t.preventDefault(),d()})),setTimeout(function(){t(e,n,i)},n)};(function(){return new Promise(function(t){chrome.storage.local.get("isRunning",function(e){return e.isRunning?window.location.href.includes("unmoderated")&&!window.location.href.includes("/finish")?(t(!1),c()):t(!0):t(!1)})})})().then(function(t){t?s().then(function(t){if(!document.querySelector("iframe#vldt-app")&&!window.location.href.includes("/finish")){var e=document.createElement("iframe");e.id="vldt-app",e.allow="microphone",e.scrolling="no",e.style.height="100%",e.style.width="100%",e.style.padding=0,e.style.margin=0,e.style.zIndex=2147483647,e.style.border=0,e.style.background="transparent",e.style.filter="none",e.sandbox="allow-scripts allow-same-origin allow-forms",e.setAttribute("allowFullScreen",""),e.style.cssText+=";min-width: auto !important; min-height: auto !important; display: block !important;",e.src=chrome.runtime.getURL("app.html"),i.style.height="100vh",i.style.width="100vw",i.style.position="fixed",i.style.top=0,i.style.left=0,i.style.margin=0,i.style.padding=0,i.style.border=0,i.style.background="transparent",i.style.filter="none",i.style.zIndex=2147483646,i.style.display="block",i.style.cssText+=";display: block !important;";i.attachShadow({mode:"closed"}).appendChild(e);setInterval(function(){document.body.contains(i)||document.body.prepend(i)},500);var n=function(){var n="",o=window.location.href;e.contentWindow.postMessage({message:"initValues",windowX:window.innerWidth,windowY:window.innerHeight,currentUrl:o,vldtParams:t},"*");var a=function(t){t!==n&&(e.contentWindow.postMessage({message:"vldtURLChange",data:{url:t}},"*"),n=t),n=window.location.href};setInterval(function(){a(window.location.href)},1e3),a(o)};e.onload=n;var a=void 0,r=function(t){if("vldtURL"===t.data.message&&(window.location=l(t.data.data.url)),"vldtMainUI"===t.data.message&&(a=t.data.data.isFullScreen)&&(i.style.height="100%",i.style.width="100%"),"vldtCircleUI"===t.data.message){var e=void 0,n=void 0;!t.data.data.isStopped||t.data.data.isFullScreen?(e="100%",n="100%"):t.data.data.isOpen?(e="415px",n=parseInt(t.data.data.popupHeight,10)>=window.innerHeight?window.innerHeight-100+"px":t.data.data.popupHeight):t.data.data.isOpen||(e="90px",n="90px");var r=o(t.data.data.position,2),s=r[0],d=r[1];i.style.width=e,i.style.height=n,i.style[s]=0,i.style[d]=0,i.style["right"===s?"left":"right"]=null,i.style["top"===d?"bottom":"top"]=null}};window.addEventListener("message",r,!1)}}):u("#vldt-start-test",500)})}})});